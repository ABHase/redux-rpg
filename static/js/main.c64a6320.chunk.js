(this["webpackJsonpredux-game"]=this["webpackJsonpredux-game"]||[]).push([[0],{14:function(t,e,r){t.exports=r.p+"static/media/chest.6734d051.png"},16:function(t,e,r){t.exports=r.p+"static/media/tree.acb47eac.png"},17:function(t,e,r){t.exports=r.p+"static/media/sprite_shet_progress2.e96236c5.png"},18:function(t,e,r){t.exports=r.p+"static/media/sprite_shet_progress2.e96236c5.png"},21:function(t,e,r){t.exports=r(33)},26:function(t,e,r){},31:function(t,e,r){},33:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),a=r(7),c=r.n(a),i=(r(26),r(3)),p=r(2),u=r(14),s=r.n(u),l=r(5),f=r(15);function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h={position:[0,0],facingPosition:[0,75],spriteLocation:"0 0",direction:"SOUTH",walkIndex:1,health:10},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MOVE_PLAYER":case"ATTACK_PLAYER2":return d({},t,{},e.payload);default:return t}};function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v={tiles:[]},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TILES":return b({},e.payload);default:return t}};function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var j={position:[200,0],spriteLocation:"0 0",direction:"east",walkIndex:0,health:10,dialogue:!1},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MOVE_PLAYER2":case"ATTACK_PLAYER":return E({},t,{},e.payload);case"DIALOGUE":return E({},t,{dialogue:!1});default:return t}};function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var T={spriteLocation:"200px 0px"},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ANIMATE_STATIC":return S({},t,{spriteLocation:"400px 0px"});case"ANIMATE_STATIC2":return S({},t,{spriteLocation:"600px 0px"});default:return t}},D=Object(l.c)({player:y,player2:P,map:m,chest:A}),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,k=Object(l.e)(D,I(Object(l.a)(f.a))),_=360,L=200,R=10*_,M=20*L;function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var N=Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.chest)}))((function(t){return o.a.createElement("div",{style:{position:"absolute",backgroundImage:"url('".concat(s.a,"')"),backgroundPosition:t.spriteLocation,width:"200px",height:"360px"}})})),C=r(16),U=r.n(C);var Y=function(){return o.a.createElement("div",{style:{position:"relative",bottom:"1080px",left:"-320px",flexShrink:"0",zIndex:1,width:"800px",height:"1440px",backgroundImage:"url('".concat(U.a,"')")}})};r(31);function W(t){return o.a.createElement("div",{className:"tile ".concat(V(t.tile)),style:{height:_,width:L}},t.tile,V(t.tile))}function V(t){switch(t){case 0:return"grass";case 1:return"black";case 2:return o.a.createElement(N,null);case 3:return"door";case 5:return"rock";case 6:return o.a.createElement(Y,null);case 7:return"rock2"}}function G(t){return o.a.createElement("div",{className:"row"},t.tiles.map((function(t){return o.a.createElement(W,{tile:t})})))}var K=Object(i.b)((function(t){return{tiles:t.map.tiles}}))((function(t){return o.a.createElement("div",{style:{position:"absolute",width:"4000px",height:"3600px",border:"4px solid white",fontSize:48}},t.tiles.map((function(t){return o.a.createElement(G,{tiles:t})})))})),X=r(17),z=r.n(X);function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}for(var Z=Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.player)}))(function(t){function e(t,e){return e[0]>=0&&e[0]<=M-L&&e[1]>=0&&e[1]<=R-_}function r(t,e){var r=k.getState().map.tiles,n=e[1]/_,o=e[0]/L;return r[n][o]<5}function n(){var t=k.getState().map.tiles,e=k.getState().player.facingPosition,r=k.getState().player2.position,n=r[1],o=r[0],a=e[1]/_;a<0&&(a=0);var c=e[0]/L;c<0&&(c=0);var i=t[a][c];if(e[0]===o&&e[1]===n)k.dispatch({type:"ATTACK_PLAYER",payload:{dialogue:!0}});else{if(2!==i)return;k.dispatch((function(t){setTimeout((function(){t({type:"ANIMATE_STATIC"})}),500),setTimeout((function(){t({type:"ANIMATE_STATIC2"})}),1e3)}))}}function o(t,e){var r=function(){var t=k.getState().player.walkIndex;return t>=2?1:t+1}();k.dispatch({type:"MOVE_PLAYER",payload:{position:e,direction:t,walkIndex:r,spriteLocation:s(t,r)}})}function a(){var t=k.getState().player2.health-1;k.dispatch({type:"ATTACK_PLAYER",payload:{health:t}})}function c(t){var e=k.getState().player2.position,r=e[1],n=e[0];return t[1]===r&&t[0]===n}function i(){var t=k.getState().player.direction,e=k.getState().player.position;switch(t){case"SOUTH":return[e[0],e[1]+_];case"NORTH":return[e[0],e[1]-_];case"EAST":return[e[0]+L,e[1]];case"WEST":return[e[0]-L,e[1]]}}function p(t,e){k.dispatch({type:"MOVE_PLAYER",payload:{facingPosition:i()}})}function u(t){setTimeout((function(){var n=k.getState().player.position,u=function(t,e){switch(e){case"WEST":return[t[0]-L,t[1]];case"EAST":return[t[0]+L,t[1]];case"NORTH":return[t[0],t[1]-_];case"SOUTH":return[t[0],t[1]+_]}}(n,t),l=k.getState().player.walkIndex;k.dispatch({type:"MOVE_PLAYER",payload:{direction:t,spriteLocation:s(t,l),facingPosition:i()}}),e(0,u)&&r(0,u)&&!c(u)?(o(t,u),p()):e(0,u)&&r(0,u)&&c(u)&&(a(),p())}),30)}function s(t,e){switch(t){case"NORTH":return"".concat(L*e,"px ").concat(1*_,"px");case"EAST":return"".concat(L*e,"px ").concat(2*_,"px");case"WEST":return"".concat(L*e,"px ").concat(3*_,"px");case"SOUTH":return"".concat(L*e,"px ").concat(4*_,"px")}}return window.addEventListener("keydown",(function(t){!function(t){switch(t.preventDefault(),t.keyCode){case 32:return n();case 37:return u("WEST");case 38:return u("NORTH");case 39:return u("EAST");case 40:return u("SOUTH");default:console.log(t.keyCode)}}(t)})),t}((function(t){return o.a.createElement("div",{style:{position:"absolute",top:t.position[1],left:t.position[0],backgroundImage:"url('".concat(z.a,"')"),backgroundPosition:t.spriteLocation,width:"200px",height:"360px"}})}))),B=r(19),q=r(20),F=r(1),Q=r.n(F),$={HEIGHT:10,WIDTH:20,MAX_ROOMS:10,ROOM_SIZE_RANGE:[2,6]},tt=function(t,e){var r=e.x,n=e.y,o=e.width,a=void 0===o?1:o,c=e.height,i=void 0===c?1:c;if(n<1||n+i>t.length-1)return!1;if(r<1||r+a>t[0].length-1)return!1;for(var p=n-1;p<n+i+1;p++)for(var u=r-1;u<r+a+1;u++)if(1===t[p][u])return!1;return!0},et=[],rt=0;rt<$.HEIGHT;rt++){et.push([]);for(var nt=0;nt<$.WIDTH;nt++)et[rt].push(5)}var ot=function(t,e){var r=e.x,n=e.y,o=e.width,a=e.height,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$.ROOM_SIZE_RANGE,i=Object(q.a)(c,2),p=i[0],u=i[1],s=[],l={height:Q.a.random(p,u),width:Q.a.random(p,u)};l.x=Q.a.random(r,r+o-1),l.y=n-l.height-1,l.doorx=Q.a.random(l.x,Math.min(l.x+l.width,r+o)-1),l.doory=n-1,s.push(l);var f={height:Q.a.random(p,u),width:Q.a.random(p,u)};f.x=r+o+1,f.y=Q.a.random(n,a+n-1),f.doorx=f.x-1,f.doory=Q.a.random(f.y,Math.min(f.y+f.height,n+a)-1),s.push(f);var O={height:Q.a.random(p,u),width:Q.a.random(p,u)};O.x=Q.a.random(r,o+r-1),O.y=n+a+1,O.doorx=Q.a.random(O.x,Math.min(O.x+O.width,r+o)-1),O.doory=n+a,s.push(O);var d={height:Q.a.random(p,u),width:Q.a.random(p,u)};d.x=r-d.width-1,d.y=Q.a.random(n,a+n-1),d.doorx=r-1,d.doory=Q.a.random(d.y,Math.min(d.y+d.height,n+a)-1),s.push(d);var h=[];return s.forEach((function(e){tt(t,e)&&(t=at(t,e),t=at(t,{x:e.doorx,y:e.doory},3),h.push(e))})),{tiles:t,placedRooms:h}},at=function(t,e){for(var r=e.x,n=e.y,o=e.width,a=void 0===o?1:o,c=e.height,i=void 0===c?1:c,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=n;u<n+i;u++)for(var s=r;s<r+a;s++)t[u][s]=p;return t},ct={x:0,y:0,height:2,width:2};!function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$.MAX_ROOMS;return n+r.length>o||!r.length?e:(e=ot(e,r.pop()),r.push.apply(r,Object(B.a)(e.placedRooms)),n+=e.placedRooms.length,t(e.tiles,r,n))}(et=at(et,ct),[ct]);var it=r(18),pt=r.n(it);function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var st=Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.player2)}))((function(t){return o.a.createElement("div",{style:{position:"absolute",top:t.position[1],left:t.position[0],backgroundColor:"brown",width:"800px",height:"720px"}},o.a.createElement("button",{onClick:function(){return t.dispatch({type:"DIALOGUE"})},style:{fontSize:72}},"X"),o.a.createElement("p",{style:{fontSize:50}},"Now I can start and stop but I seem to take some time about stopping"))}));function lt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var ft=Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lt(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.player2)}))(function(t){function e(t,e){return e[0]>=0&&e[0]<=M-L&&e[1]>=0&&e[1]<=R-_}function r(t,e){var r=k.getState().map.tiles,n=e[1]/_,o=e[0]/L;return r[n][o]<5}function n(t,e){var r=function(){var t=k.getState().player2.walkIndex;return t>=2?0:t+1}();k.dispatch({type:"MOVE_PLAYER2",payload:{position:e,direction:t,walkIndex:r,spriteLocation:p(t,r)}})}function o(){var t=k.getState().player.health-1;k.dispatch({type:"ATTACK_PLAYER2",payload:{health:t}})}function a(t){var e=k.getState().player.position,r=e[1],n=e[0];return t[1]===r&&t[0]===n}function c(t){var c=k.getState().player2.position,i=function(t,e){switch(e){case"WEST":return[t[0]-L,t[1]];case"EAST":return[t[0]+L,t[1]];case"NORTH":return[t[0],t[1]-_];case"SOUTH":return[t[0],t[1]+_]}}(c,t);e(0,i)&&r(0,i)&&!a(i)?n(t,i):e(0,i)&&r(0,i)&&a(i)&&o()}var i=["SOUTH","NORTH","EAST","WEST"];function p(t,e){switch(t){case"NORTH":return"".concat(L*e,"px ").concat(1*_,"px");case"EAST":return"".concat(L*e,"px ").concat(2*_,"px");case"WEST":return"".concat(L*e,"px ").concat(3*_,"px");case"SOUTH":return"".concat(L*e,"px ").concat(4*_,"px")}}return setInterval((function(){i[Math.floor(Math.random()*i.length)],k.getState().player2.dialogue||setTimeout((function(){c(i[Math.floor(Math.random()*i.length)])}),2e3)}),500),t}((function(t){return o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",top:t.position[1],left:t.position[0],backgroundImage:"url('".concat(pt.a,"')"),backgroundPosition:t.spriteLocation,width:"200px",height:"360px"}}),t.dialogue?o.a.createElement(st,null):null)})));var Ot=function(t){return k.dispatch({type:"ADD_TILES",payload:{tiles:et}}),o.a.createElement("div",{style:{position:"relative",width:"4000px",height:"3600px",margin:"20px auto"}},o.a.createElement(K,null),o.a.createElement(Z,null),o.a.createElement(ft,null))};var dt=function(){return o.a.createElement("div",null,o.a.createElement(Ot,null))};c.a.render(o.a.createElement(i.a,{store:k},o.a.createElement(dt,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.c64a6320.chunk.js.map