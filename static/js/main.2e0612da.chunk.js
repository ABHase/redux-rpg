(this["webpackJsonpredux-game"]=this["webpackJsonpredux-game"]||[]).push([[0],{14:function(t,e,r){t.exports=r.p+"static/media/chest.6734d051.png"},16:function(t,e,r){t.exports=r.p+"static/media/tree.acb47eac.png"},17:function(t,e,r){t.exports=r.p+"static/media/sprite_shet_progress2.e96236c5.png"},18:function(t,e,r){t.exports=r.p+"static/media/sprite_shet_progress2.e96236c5.png"},21:function(t,e,r){t.exports=r(33)},26:function(t,e,r){},31:function(t,e,r){},33:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),a=r(7),c=r.n(a),i=(r(26),r(3)),p=r(1),u=r(14),s=r.n(u),l=r(5),f=r(15);function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h={position:[0,0],facingPosition:[0,75],spriteLocation:"0 0",direction:"SOUTH",walkIndex:1,health:10},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MOVE_PLAYER":case"ATTACK_PLAYER2":return y({},t,{},e.payload);default:return t}};function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v={tiles:[],level:1},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TILES":return g({},t,{},e.payload);default:return t}};function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var j={position:[200,0],spriteLocation:"0 0",direction:"east",walkIndex:0,health:10,dialogue:!1},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MOVE_PLAYER2":case"ATTACK_PLAYER":return w({},t,{},e.payload);case"DIALOGUE":return w({},t,{dialogue:!1});default:return t}};function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var T={spriteLocation:"200px 0px"},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ANIMATE_STATIC":return x({},t,{spriteLocation:"400px 0px"});case"ANIMATE_STATIC2":return x({},t,{spriteLocation:"600px 0px"});default:return t}},A=Object(l.c)({player:d,player2:P,map:m,chest:D}),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,_=Object(l.e)(A,I(Object(l.a)(f.a))),k=360,L=200,M=10*k,R=20*L;function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.chest)}))((function(t){return o.a.createElement("div",{style:{position:"absolute",backgroundImage:"url('".concat(s.a,"')"),backgroundPosition:t.spriteLocation,width:"200px",height:"360px"}})}));var N=r(16),C=r.n(N);var Y=function(){return o.a.createElement("div",{style:{position:"relative",bottom:"1080px",left:"-320px",flexShrink:"0",zIndex:1,width:"800px",height:"1440px",backgroundImage:"url('".concat(C.a,"')")}})};r(31);function U(t){return o.a.createElement("div",{className:"tile ".concat(V(t.tile)),style:{height:k,width:L}},t.tile,V(t.tile))}function V(t){switch(t){case 0:return"grass";case 1:return"black";case 2:return"downstairs";case 3:return"upstairs";case 5:return"rock";case 6:return o.a.createElement(Y,null);case 7:return"rock2";case 8:return"door"}}function W(t){return o.a.createElement("div",{className:"row"},t.tiles.map((function(t){return o.a.createElement(U,{tile:t})})))}var G=Object(i.b)((function(t){return{tiles:t.map.tiles}}))((function(t){return o.a.createElement("div",{style:{position:"absolute",width:"4000px",height:"3600px",border:"4px solid white",fontSize:48}},t.tiles.map((function(t){return o.a.createElement(W,{tiles:t})})))})),X=r(17),z=r.n(X),K=r(19),J=r(20),Z=r(2),B=r.n(Z),q={HEIGHT:10,WIDTH:20,MAX_ROOMS:10,ROOM_SIZE_RANGE:[2,6]},F=function(){for(var t=function(t,e){var r=e.x,n=e.y,o=e.width,a=void 0===o?1:o,c=e.height,i=void 0===c?1:c;if(n<1||n+i>t.length-1)return!1;if(r<1||r+a>t[0].length-1)return!1;for(var p=n-1;p<n+i+1;p++)for(var u=r-1;u<r+a+1;u++)if(1===t[p][u])return!1;return!0},e=[],r=0;r<q.HEIGHT;r++){e.push([]);for(var n=0;n<q.WIDTH;n++)e[r].push(5)}var o=function(e,r){var n=r.x,o=r.y,c=r.width,i=r.height,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.ROOM_SIZE_RANGE,u=Object(J.a)(p,2),s=u[0],l=u[1],f=[],O={height:B.a.random(s,l),width:B.a.random(s,l)};O.x=B.a.random(n,n+c-1),O.y=o-O.height-1,O.doorx=B.a.random(O.x,Math.min(O.x+O.width,n+c)-1),O.doory=o-1,f.push(O);var y={height:B.a.random(s,l),width:B.a.random(s,l)};y.x=n+c+1,y.y=B.a.random(o,i+o-1),y.doorx=y.x-1,y.doory=B.a.random(y.y,Math.min(y.y+y.height,o+i)-1),f.push(y);var h={height:B.a.random(s,l),width:B.a.random(s,l)};h.x=B.a.random(n,c+n-1),h.y=o+i+1,h.doorx=B.a.random(h.x,Math.min(h.x+h.width,n+c)-1),h.doory=o+i,f.push(h);var d={height:B.a.random(s,l),width:B.a.random(s,l)};d.x=n-d.width-1,d.y=B.a.random(o,i+o-1),d.doorx=n-1,d.doory=B.a.random(d.y,Math.min(d.y+d.height,o+i)-1),f.push(d);var b=[];return f.forEach((function(r){t(e,r)&&(e=a(e,r),e=a(e,{x:r.doorx,y:r.doory},0),b.push(r))})),{tiles:e,placedRooms:b}},a=function(t,e){for(var r=e.x,n=e.y,o=e.width,a=void 0===o?1:o,c=e.height,i=void 0===c?1:c,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=n;u<n+i;u++)for(var s=r;s<r+a;s++)t[u][s]=p;return t},c={x:0,y:0,height:2,width:2};!function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q.MAX_ROOMS;return n+r.length>a||!r.length?e:(e=o(e,r.pop()),r.push.apply(r,Object(K.a)(e.placedRooms)),n+=e.placedRooms.length,t(e.tiles,r,n))}(e=a(e,c),[c]);for(var i=[3,2];i.length;){var p=Math.floor(Math.random()*q.WIDTH),u=Math.floor(Math.random()*q.HEIGHT);1===e[u][p]&&(_.dispatch({type:"MOVE_PLAYER",payload:{position:[p*L,u*k]}}),e[u][p]=i.pop())}return e},Q=[[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var tt=Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.player)}))(function(t){function e(t,e){return e[0]>=0&&e[0]<=R-L&&e[1]>=0&&e[1]<=M-k}function r(t,e){var r=_.getState().map.tiles,n=e[1]/k,o=e[0]/L;return r[n][o]<5}function n(){var t=_.getState().map.tiles,e=_.getState().player.facingPosition,r=_.getState().player2.position,n=r[1],o=r[0],a=e[1]/k;a<0&&(a=0);var c=e[0]/L;c<0&&(c=0);var i=t[a][c];if(e[0]===o&&e[1]===n)_.dispatch({type:"MOVE_PLAYER2",payload:{dialogue:!0}});else{if(2!==i)return;_.dispatch((function(t){setTimeout((function(){t({type:"ANIMATE_STATIC"})}),500),setTimeout((function(){t({type:"ANIMATE_STATIC2"})}),1e3)}))}}function o(t,e){var r=function(){var t=_.getState().player.walkIndex;return t>=3?1:t+1}();_.dispatch({type:"MOVE_PLAYER",payload:{position:e,direction:t,walkIndex:r,spriteLocation:l(t,r)}})}function a(){var t=_.getState().player2.health-1;_.dispatch({type:"ATTACK_PLAYER",payload:{health:t}})}function c(t){var e=_.getState().player2.position,r=e[1],n=e[0];return t[1]===r&&t[0]===n}function i(){var t=_.getState().player.direction,e=_.getState().player.position;switch(t){case"SOUTH":return[e[0],e[1]+k];case"NORTH":return[e[0],e[1]-k];case"EAST":return[e[0]+L,e[1]];case"WEST":return[e[0]-L,e[1]]}}function p(t,e){_.dispatch({type:"MOVE_PLAYER",payload:{facingPosition:i()}})}function u(t){setTimeout((function(){var n=_.getState().player.position,u=function(t,e){switch(e){case"WEST":return[t[0]-L,t[1]];case"EAST":return[t[0]+L,t[1]];case"NORTH":return[t[0],t[1]-k];case"SOUTH":return[t[0],t[1]+k]}}(n,t),s=_.getState().player.walkIndex;_.dispatch({type:"MOVE_PLAYER",payload:{direction:t,spriteLocation:l(t,s),facingPosition:i()}}),e(0,u)&&r(0,u)&&!c(u)?(o(t,u),p()):e(0,u)&&r(0,u)&&c(u)&&(a(),p())}),30)}function s(t){switch(t.preventDefault(),t.keyCode){case 32:return n();case 37:return u("WEST");case 38:return u("NORTH");case 39:return u("EAST");case 40:return u("SOUTH");case 190:return function(){var t=_.getState().map.tiles,e=_.getState().player.position,r=e[1]/k,n=e[0]/L,o=t[r][n],a=_.getState().map.level;3===o&&1===a?(_.dispatch({type:"ADD_TILES",payload:{tiles:Q,level:0}}),_.dispatch({type:"MOVE_PLAYER",payload:{position:[0,0]}})):2===o&&_.dispatch({type:"ADD_TILES",payload:{tiles:F(),level:a+=1}})}();default:console.log(t.keyCode)}}function l(t,e){switch(t){case"NORTH":return"".concat(L*e,"px ").concat(1*k,"px");case"EAST":return"".concat(L*e,"px ").concat(2*k,"px");case"WEST":return"".concat(L*e,"px ").concat(3*k,"px");case"SOUTH":return"".concat(L*e,"px ").concat(4*k,"px")}}return window.addEventListener("keydown",(function(t){s(t)})),t}((function(t){return o.a.createElement("div",{style:{position:"absolute",top:t.position[1],left:t.position[0],backgroundImage:"url('".concat(z.a,"')"),backgroundPosition:t.spriteLocation,width:"200px",height:"360px"}})})));function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var rt=Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?et(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.map)}))((function(t){return o.a.createElement("h1",{style:{color:"white"}}," Current Dungeon Level: ",t.level)})),nt=r(18),ot=r.n(nt);function at(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var ct=Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.player2)}))((function(t){return o.a.createElement("div",{style:{position:"absolute",top:t.position[1],left:t.position[0],backgroundColor:"brown",width:"800px",height:"720px"}},o.a.createElement("button",{onClick:function(){return t.dispatch({type:"DIALOGUE"})},style:{fontSize:72}},"X"),o.a.createElement("p",{style:{fontSize:50}},"Now I can start and stop but I seem to take some time about stopping"))}));function it(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var pt=Object(i.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?it(r,!0).forEach((function(e){Object(p.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):it(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.player2)}))(function(t){function e(t,e){return e[0]>=0&&e[0]<=R-L&&e[1]>=0&&e[1]<=M-k}function r(t,e){var r=_.getState().map.tiles,n=e[1]/k,o=e[0]/L;return r[n][o]<5}function n(t,e){var r=function(){var t=_.getState().player2.walkIndex;return t>=2?0:t+1}();_.dispatch({type:"MOVE_PLAYER2",payload:{position:e,direction:t,walkIndex:r,spriteLocation:p(t,r)}})}function o(){var t=_.getState().player.health-1;_.dispatch({type:"ATTACK_PLAYER2",payload:{health:t}})}function a(t){var e=_.getState().player.position,r=e[1],n=e[0];return t[1]===r&&t[0]===n}function c(t){var c=_.getState().player2.position,i=function(t,e){switch(e){case"WEST":return[t[0]-L,t[1]];case"EAST":return[t[0]+L,t[1]];case"NORTH":return[t[0],t[1]-k];case"SOUTH":return[t[0],t[1]+k]}}(c,t);e(0,i)&&r(0,i)&&!a(i)?n(t,i):e(0,i)&&r(0,i)&&a(i)&&o()}var i=["SOUTH","NORTH","EAST","WEST"];function p(t,e){switch(t){case"NORTH":return"".concat(L*e,"px ").concat(1*k,"px");case"EAST":return"".concat(L*e,"px ").concat(2*k,"px");case"WEST":return"".concat(L*e,"px ").concat(3*k,"px");case"SOUTH":return"".concat(L*e,"px ").concat(4*k,"px")}}return setInterval((function(){i[Math.floor(Math.random()*i.length)],_.getState().player2.dialogue||setTimeout((function(){c(i[Math.floor(Math.random()*i.length)])}),2e3)}),500),t}((function(t){return o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",top:t.position[1],left:t.position[0],backgroundImage:"url('".concat(ot.a,"')"),backgroundPosition:t.spriteLocation,width:"200px",height:"360px"}}),t.dialogue?o.a.createElement(ct,null):null)})));var ut=function(t){return _.dispatch({type:"ADD_TILES",payload:{tiles:F()}}),o.a.createElement("div",null,o.a.createElement(rt,null),o.a.createElement("div",{style:{position:"relative",width:"4000px",height:"3600px",margin:"20px auto"}},o.a.createElement(G,null),o.a.createElement(tt,null),o.a.createElement(pt,null)))};var st=function(){return o.a.createElement("div",null,o.a.createElement(ut,null))};c.a.render(o.a.createElement(i.a,{store:_},o.a.createElement(st,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.2e0612da.chunk.js.map