(this["webpackJsonpredux-game"]=this["webpackJsonpredux-game"]||[]).push([[0],{14:function(e,t,r){e.exports=r.p+"static/media/chest.6734d051.png"},16:function(e,t,r){e.exports=r.p+"static/media/tree.acb47eac.png"},17:function(e,t,r){e.exports=r.p+"static/media/sprite_shet_progress2.e96236c5.png"},18:function(e,t,r){e.exports=r.p+"static/media/sprite_shet_progress2.e96236c5.png"},21:function(e,t,r){e.exports=r(33)},26:function(e,t,r){},31:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(7),i=r.n(a),c=(r(26),r(3)),s=r(1),p=r(14),u=r.n(p),l=r(5),f=r(15);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={position:[0,0],facingPosition:[0,75],spriteLocation:"0 0",direction:"SOUTH",walkIndex:1,health:10},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_PLAYER":case"ATTACK_PLAYER2":return y({},e,{},t.payload);default:return e}};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={tiles:[],level:1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TILES":return b({},e,{},t.payload);default:return e}};function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S={position:[200,0],spriteLocation:"0 0",direction:"east",walkIndex:0,health:10,dialogue:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_PLAYER2":case"ATTACK_PLAYER":return w({},e,{},t.payload);case"DIALOGUE":return w({},e,{dialogue:!1});default:return e}};function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T={spriteLocation:"200px 0px"},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ANIMATE_STATIC":return x({},e,{spriteLocation:"400px 0px"});case"ANIMATE_STATIC2":return x({},e,{spriteLocation:"600px 0px"});default:return e}},A=Object(l.c)({player:h,player2:j,map:m,chest:D}),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,_=Object(l.e)(A,I(Object(l.a)(f.a))),L=360,k=200,M=10*L,R=20*k;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}Object(c.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.chest)}))((function(e){return o.a.createElement("div",{style:{position:"absolute",backgroundImage:"url('".concat(u.a,"')"),backgroundPosition:e.spriteLocation,width:"200px",height:"360px"}})}));var H=r(16),J=r.n(H);var Y=function(){return o.a.createElement("div",{style:{position:"relative",bottom:"1080px",left:"-320px",flexShrink:"0",zIndex:1,width:"800px",height:"1440px",backgroundImage:"url('".concat(J.a,"')")}})};r(31);function C(e){return o.a.createElement("div",{className:"tile ".concat(V(e.tile)),style:{height:L,width:k}},e.tile,V(e.tile))}function V(e){switch(e){case 0:return"grass";case 1:return"black";case 2:return"downstairs";case 3:return"upstairs";case 5:return"rock";case 6:return o.a.createElement(Y,null);case 7:return"rock2";case 8:return"door"}}function U(e){return o.a.createElement("div",{className:"row"},e.tiles.map((function(e){return o.a.createElement(C,{tile:e})})))}var W=Object(c.b)((function(e){return{tiles:e.map.tiles}}))((function(e){return o.a.createElement("div",{style:{position:"absolute",width:"4000px",height:"3600px",border:"4px solid white",fontSize:48}},e.tiles.map((function(e){return o.a.createElement(U,{tiles:e})})))})),G=r(17),X=r.n(G),z=r(19),K=r(20),Z=r(2),B=r.n(Z),q={HEIGHT:10,WIDTH:20,MAX_ROOMS:10,ROOM_SIZE_RANGE:[2,6]},F=function(){for(var e=function(e,t){var r=t.x,n=t.y,o=t.width,a=void 0===o?1:o,i=t.height,c=void 0===i?1:i;if(n<1||n+c>e.length-1)return!1;if(r<1||r+a>e[0].length-1)return!1;for(var s=n-1;s<n+c+1;s++)for(var p=r-1;p<r+a+1;p++)if(1===e[s][p])return!1;return!0},t=[],r=0;r<q.HEIGHT;r++){t.push([]);for(var n=0;n<q.WIDTH;n++)t[r].push(5)}var o=function(t,r){var n=r.x,o=r.y,i=r.width,c=r.height,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.ROOM_SIZE_RANGE,p=Object(K.a)(s,2),u=p[0],l=p[1],f=[],O={height:B.a.random(u,l),width:B.a.random(u,l)};O.x=B.a.random(n,n+i-1),O.y=o-O.height-1,O.doorx=B.a.random(O.x,Math.min(O.x+O.width,n+i)-1),O.doory=o-1,f.push(O);var y={height:B.a.random(u,l),width:B.a.random(u,l)};y.x=n+i+1,y.y=B.a.random(o,c+o-1),y.doorx=y.x-1,y.doory=B.a.random(y.y,Math.min(y.y+y.height,o+c)-1),f.push(y);var d={height:B.a.random(u,l),width:B.a.random(u,l)};d.x=B.a.random(n,i+n-1),d.y=o+c+1,d.doorx=B.a.random(d.x,Math.min(d.x+d.width,n+i)-1),d.doory=o+c,f.push(d);var h={height:B.a.random(u,l),width:B.a.random(u,l)};h.x=n-h.width-1,h.y=B.a.random(o,c+o-1),h.doorx=n-1,h.doory=B.a.random(h.y,Math.min(h.y+h.height,o+c)-1),f.push(h);var g=[];return f.forEach((function(r){e(t,r)&&(t=a(t,r),t=a(t,{x:r.doorx,y:r.doory},0),g.push(r))})),{tiles:t,placedRooms:g}},a=function(e,t){for(var r=t.x,n=t.y,o=t.width,a=void 0===o?1:o,i=t.height,c=void 0===i?1:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,p=n;p<n+c;p++)for(var u=r;u<r+a;u++)e[p][u]=s;return e},i={x:0,y:0,height:2,width:2};!function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q.MAX_ROOMS;return n+r.length>a||!r.length?t:(t=o(t,r.pop()),r.push.apply(r,Object(z.a)(t.placedRooms)),n+=t.placedRooms.length,e(t.tiles,r,n))}(t=a(t,i),[i]);for(var c=[3,2];c.length;){var s=Math.floor(Math.random()*q.WIDTH),p=Math.floor(Math.random()*q.HEIGHT);1===t[p][s]&&(_.dispatch({type:"MOVE_PLAYER",payload:{position:[s*k,p*L]}}),t[p][s]=c.pop())}return t},Q=[[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ee=Object(c.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.player)}))(function(e){function t(e,t){return t[0]>=0&&t[0]<=R-k&&t[1]>=0&&t[1]<=M-L}function r(e,t){var r=_.getState().map.tiles,n=t[1]/L,o=t[0]/k;return r[n][o]<5}function n(){var e=_.getState().map.tiles,t=_.getState().player.facingPosition,r=_.getState().player2.position,n=r[1],o=r[0],a=t[1]/L;a<0&&(a=0);var i=t[0]/k;i<0&&(i=0);var c=e[a][i];if(t[0]===o&&t[1]===n)_.dispatch({type:"MOVE_PLAYER2",payload:{dialogue:!0}});else{if(2!==c)return;_.dispatch((function(e){setTimeout((function(){e({type:"ANIMATE_STATIC"})}),500),setTimeout((function(){e({type:"ANIMATE_STATIC2"})}),1e3)}))}}function o(e,t){var r=function(){var e=_.getState().player.walkIndex;return e>=3?1:e+1}();_.dispatch({type:"MOVE_PLAYER",payload:{position:t,direction:e,walkIndex:r,spriteLocation:l(e,r)}})}function a(){var e=_.getState().player2.health-1;_.dispatch({type:"ATTACK_PLAYER",payload:{health:e}})}function i(e){var t=_.getState().player2.position,r=t[1],n=t[0];return e[1]===r&&e[0]===n}function c(){var e=_.getState().player.direction,t=_.getState().player.position;switch(e){case"SOUTH":return[t[0],t[1]+L];case"NORTH":return[t[0],t[1]-L];case"EAST":return[t[0]+k,t[1]];case"WEST":return[t[0]-k,t[1]]}}function s(e,t){_.dispatch({type:"MOVE_PLAYER",payload:{facingPosition:c()}})}function p(e){setTimeout((function(){var n=_.getState().player.position,p=function(e,t){switch(t){case"WEST":return[e[0]-k,e[1]];case"EAST":return[e[0]+k,e[1]];case"NORTH":return[e[0],e[1]-L];case"SOUTH":return[e[0],e[1]+L]}}(n,e),u=_.getState().player.walkIndex;_.dispatch({type:"MOVE_PLAYER",payload:{direction:e,spriteLocation:l(e,u),facingPosition:c()}}),t(0,p)&&r(0,p)&&!i(p)?(o(e,p),s()):t(0,p)&&r(0,p)&&i(p)&&(a(),s())}),30)}function u(e){switch(e.preventDefault(),e.keyCode){case 32:return n();case 37:return p("WEST");case 38:return p("NORTH");case 39:return p("EAST");case 40:return p("SOUTH");case 190:return function(){var e=_.getState().map.tiles,t=_.getState().player.position,r=t[1]/L,n=t[0]/k,o=e[r][n],a=_.getState().map.level;3===o&&1!==a?(sessionStorage.setItem("stairsup"+a,JSON.stringify(t)),sessionStorage.setItem("level"+a,JSON.stringify(e)),_.dispatch({type:"ADD_TILES",payload:{tiles:JSON.parse(sessionStorage.getItem("level"+(a-1))),level:a-=1}}),_.dispatch({type:"MOVE_PLAYER",payload:{position:JSON.parse(sessionStorage.getItem("leveldown"+a))}})):3===o&&1===a?(sessionStorage.setItem("stairsup"+a,JSON.stringify(t)),sessionStorage.setItem("level"+a,JSON.stringify(e)),_.dispatch({type:"ADD_TILES",payload:{tiles:Q,level:a-=1}}),_.dispatch({type:"MOVE_PLAYER",payload:{position:[0,0]}})):2===o&&sessionStorage["level"+(a+1)]?(sessionStorage.setItem("level"+a,JSON.stringify(e)),sessionStorage.setItem("leveldown"+a,JSON.stringify(t)),_.dispatch({type:"ADD_TILES",payload:{tiles:JSON.parse(sessionStorage.getItem("level"+(a+1))),level:a+=1}}),_.dispatch({type:"MOVE_PLAYER",payload:{position:JSON.parse(sessionStorage.getItem("stairsup"+a))}}),sessionStorage.setItem("level"+a,JSON.stringify(e))):2===o&&(sessionStorage.setItem("level"+a,JSON.stringify(e)),sessionStorage.setItem("leveldown"+a,JSON.stringify(t)),_.dispatch({type:"ADD_TILES",payload:{tiles:F(),level:a+=1}}))}();default:console.log(e.keyCode)}}function l(e,t){switch(e){case"NORTH":return"".concat(k*t,"px ").concat(1*L,"px");case"EAST":return"".concat(k*t,"px ").concat(2*L,"px");case"WEST":return"".concat(k*t,"px ").concat(3*L,"px");case"SOUTH":return"".concat(k*t,"px ").concat(4*L,"px")}}return window.addEventListener("keydown",(function(e){u(e)})),e}((function(e){return o.a.createElement("div",{style:{position:"absolute",top:e.position[1],left:e.position[0],backgroundImage:"url('".concat(X.a,"')"),backgroundPosition:e.spriteLocation,width:"200px",height:"360px"}})})));function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var re=Object(c.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.map)}))((function(e){return o.a.createElement("h1",{style:{color:"white"}}," Current Dungeon Level: ",e.level,o.a.createElement("br",null),'Move with the arrow keys, operate stairs with "." and space to interact')})),ne=r(18),oe=r.n(ne);function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ie=Object(c.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.player2)}))((function(e){return o.a.createElement("div",{style:{position:"absolute",top:e.position[1],left:e.position[0],backgroundColor:"brown",width:"800px",height:"720px"}},o.a.createElement("button",{onClick:function(){return e.dispatch({type:"DIALOGUE"})},style:{fontSize:72}},"X"),o.a.createElement("p",{style:{fontSize:50}},"Now I can start and stop but I seem to take some time about stopping"))}));function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var se=Object(c.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.player2)}))(function(e){function t(e,t){return t[0]>=0&&t[0]<=R-k&&t[1]>=0&&t[1]<=M-L}function r(e,t){var r=_.getState().map.tiles,n=t[1]/L,o=t[0]/k;return r[n][o]<5}function n(e,t){var r=function(){var e=_.getState().player2.walkIndex;return e>=2?0:e+1}();_.dispatch({type:"MOVE_PLAYER2",payload:{position:t,direction:e,walkIndex:r,spriteLocation:s(e,r)}})}function o(){var e=_.getState().player.health-1;_.dispatch({type:"ATTACK_PLAYER2",payload:{health:e}})}function a(e){var t=_.getState().player.position,r=t[1],n=t[0];return e[1]===r&&e[0]===n}function i(e){var i=_.getState().player2.position,c=function(e,t){switch(t){case"WEST":return[e[0]-k,e[1]];case"EAST":return[e[0]+k,e[1]];case"NORTH":return[e[0],e[1]-L];case"SOUTH":return[e[0],e[1]+L]}}(i,e);t(0,c)&&r(0,c)&&!a(c)?n(e,c):t(0,c)&&r(0,c)&&a(c)&&o()}var c=["SOUTH","NORTH","EAST","WEST"];function s(e,t){switch(e){case"NORTH":return"".concat(k*t,"px ").concat(1*L,"px");case"EAST":return"".concat(k*t,"px ").concat(2*L,"px");case"WEST":return"".concat(k*t,"px ").concat(3*L,"px");case"SOUTH":return"".concat(k*t,"px ").concat(4*L,"px")}}return setInterval((function(){c[Math.floor(Math.random()*c.length)],_.getState().player2.dialogue||setTimeout((function(){i(c[Math.floor(Math.random()*c.length)])}),2e3)}),500),e}((function(e){return o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",top:e.position[1],left:e.position[0],backgroundImage:"url('".concat(oe.a,"')"),backgroundPosition:e.spriteLocation,width:"200px",height:"360px"}}),e.dialogue?o.a.createElement(ie,null):null)})));var pe=function(e){return _.dispatch({type:"ADD_TILES",payload:{tiles:F()}}),o.a.createElement("div",null,o.a.createElement(re,null),o.a.createElement("div",{style:{position:"relative",width:"4000px",height:"3600px",margin:"20px auto"}},o.a.createElement(W,null),o.a.createElement(ee,null),o.a.createElement(se,null)))};var ue=function(){return o.a.createElement("div",null,o.a.createElement(pe,null))};i.a.render(o.a.createElement(c.a,{store:_},o.a.createElement(ue,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.98289c86.chunk.js.map